<header>
  @if (isLoaded == true) {

    <nav class="navbar">
      <div class="brandbox" (click)="onMenuItemClick('/')">

        @if (screen.widthDescriptor === 'small') {
          <svg
            width="800"
            height="80"
            viewBox="0 0 800 80"
            version="1.1"
            style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;background-color:white;"
            fill=var(--sn-colour)            
            xmlns="http://www.w3.org/2000/svg"
            xmlns:svg="http://www.w3.org/2000/svg">
            
          <path
              d="m 56.354752,34.631761 c 2.911804,3.128962 5.724879,5.80416 8.441714,8.040559 L 48.80735,47.638769 c 0,0 -3.621366,0.640747 -6.094122,-0.186992 -1.723298,-0.575928 -3.065383,-2.321163 -3.329415,-1.231634 -2.081319,8.574099 -11.64572,22.690575 -30.5109901,22.216869 -4.8839229,-0.124659 5.3289591,6.407512 5.3289591,6.407512 5.572294,-0.289207 13.523847,-2.408426 18.000379,-5.273108 4.07164,-2.607883 5.945028,-7.322521 8.859078,-11.922465 5.963971,-5.073656 16.635351,-6.711684 28.50895,-7.359917 0,0 2.496195,-0.244332 3.616881,-0.274249 1.239369,-0.0349 3.819579,0.0723 3.819579,0.0723 5.237706,0.67815 10.755651,1.964643 16.776714,2.086809 2.740278,-0.216908 4.954482,0.12216 8.837137,-0.795329 4.23818,-0.568449 9.08222,-1.383729 11.53178,-0.49615 l -6.3225,2.271308 -8.022855,3.824559 c 0,0 -3.565517,1.712825 -4.848764,2.223934 -1.292227,0.516088 -2.342609,-0.361519 -3.814593,0.865135 -3.674227,3.061645 0.02418,7.21282 3.920804,3.956703 1.887851,-1.5757 7.647628,-4.839296 10.888038,-5.956243 2.64603,-0.907523 5.77573,-0.354033 8.55515,-0.730504 3.13644,-0.423851 6.99167,-2.597917 10.43302,-2.13169 2.0524,0.276742 3.54508,2.907069 5.7174,2.478238 2.47525,-0.486172 4.55856,-1.301452 6.0657,-2.331142 0.95514,-0.650719 2.85471,-2.510648 2.85471,-2.510648 1.60013,-0.989794 3.42914,-1.707833 5.32522,-0.924968 0,0 0.33234,0.565949 0.84544,1.144376 -0.2396,0.700581 -0.56296,1.76518 -0.4984,2.268809 0.10024,0.785351 0.82351,1.528327 1.95418,1.538299 0.89181,0.01 1.51337,-0.541025 1.89756,-1.121939 0.19323,-0.291701 0.39967,-0.650726 0.61683,-1.064593 l 6.56508,-2.22892 -0.64997,-2.515634 c 0,0 2.11672,-3.951717 1.91377,-5.400266 -0.19496,-1.388709 -0.90328,-3.410692 -1.89283,-5.11853 0.14984,-0.433817 0.27849,-0.837717 0.41063,-1.189254 0.51534,-1.376247 1.14861,-5.437665 1.50389,-8.688793 55.20758,-7.685113 76.70009,8.161618 96.66152,6.646054 40.16676,-3.049645 37.9432,-6.911651 74.0325,-8.108449 22.63131,-0.750501 51.05463,9.16557 78.79792,9.372862 43.78267,0.327135 57.67741,-10.539946 101.92771,-10.699396 35.84673,-0.129169 50.79832,15.407459 96.13593,11.052942 48.67994,-4.675535 42.83185,-14.044964 106.22131,-8.312402 35.87031,3.243895 56.82025,9.644565 88.33808,-0.356904 6.36943,-2.021193 1.72989,44.648786 1.90053,51.123343 L 166.11099,80.0952 -0.15205006,80.150048 V 34.195452 C 8.4484805,34.364985 25.523888,39.348886 34.672919,38.947483 43.121862,38.575997 49.646808,36.621331 56.354752,34.631761 Z m 98.682198,-4.235943 c 0.34781,-2.809832 0.60685,-5.534894 0.60685,-5.534894 l 2.13143,0.241841 c 0.15309,0.316632 0.0406,2.184039 -0.20544,4.437886 -0.81826,0.291705 -1.66171,0.575928 -2.53284,0.855167 z m 0,0 c -0.30092,2.430869 -0.66842,4.924064 -0.99204,5.774245 -0.10347,0.269263 -0.21765,0.570943 -0.34081,0.895057 -0.0818,-0.107207 0.0217,0.11718 -0.26129,-0.134634 -1.82527,-1.618084 -6.02581,-2.116725 -7.45192,-0.977333 -2.54904,2.039438 -2.8784,3.031728 -3.04694,4.821846 -0.0703,0.745459 0.49889,2.036938 -0.16829,2.241382 -2.74401,0.850183 -3.70738,-0.820267 -4.89389,-1.807568 -2.26258,-1.884859 -5.24968,-3.777192 -7.80969,-4.056434 -4.56978,-0.493651 -14.1095,1.740257 -19.69251,0.463735 -4.29552,-0.982319 -8.17194,-3.258604 -10.699548,-3.298497 -3.638072,-0.05984 -8.978747,0.892563 -11.107932,4.300764 l -13.018228,1.74524 c 0,0 -4.375811,-1.588168 -5.725629,-2.533093 -2.221683,-1.553259 -3.100038,-3.749763 -4.504952,-5.677004 3.597684,-0.85766 7.463634,-1.563233 11.854648,-1.922256 31.056241,-2.545555 43.751351,4.936527 61.447061,3.438117 6.42422,-0.546012 11.8023,-1.800088 16.41196,-3.273567 z M 56.354752,34.631761 C 53.49805,31.562633 50.546352,28.057202 47.496675,24.105485 L 42.792263,21.908978 39.951514,19.24126 C 39.546868,18.762566 35.237878,19.610253 29.460644,17.560845 25.597685,16.189588 22.955894,13.83601 19.266461,12.639275 15.860006,11.532296 6.4766118,12.878623 8.194424,10.480167 9.1346085,9.1687465 13.298746,6.2118152 13.298746,6.2118152 c 0.376722,-1.1643224 8.39534,0.847687 16.191814,3.9517158 4.143442,1.648003 8.063748,3.859468 11.094724,5.504978 3.625356,1.969626 5.708672,1.969626 5.974447,2.026969 1.507138,0.316636 3.265093,-0.790344 4.203032,-0.0025 1.103489,0.924976 0.315641,4.001579 1.649499,5.243192 2.73753,2.548043 8.202865,4.958968 11.12913,7.307557 0.716542,0.575927 1.282504,1.226651 1.781889,1.90979 -3.136942,0.750454 -6.069936,1.618081 -8.968529,2.478237 z"
              id="path2" />
        </svg>
        
        <span class="sn-title">
          SNORKELOLOGY
        </span>
        }
        @if (screen.widthDescriptor === 'large') {
          <svg
            viewBox="0 0 720 362" width="119" height="60"
            version="1.1"
            xml:space="preserve"
            style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;background-color:white;"
            fill=var(--sn-colour)
            xmlns="http://www.w3.org/2000/svg">
            <path
              d="m 245.34512,168.74009 c 12.6601,13.60427 24.89094,25.23564 36.70335,34.95917 l -69.51835,21.59339 c 0,0 -15.74517,2.78589 -26.49635,-0.813 -7.49265,-2.50405 -13.32784,-10.09209 -14.47581,-5.35498 -9.04927,37.27893 -50.63389,98.65532 -132.657324,96.59571 -21.234583,-0.54199 23.169531,27.85893 23.169531,27.85893 24.227521,-1.25744 58.799713,-10.47149 78.263023,-22.92671 17.70289,-11.3387 25.84811,-31.83724 38.51797,-51.83713 25.93048,-22.05951 72.32808,-29.18143 123.95276,-31.99984 0,0 10.85307,-1.06233 15.72565,-1.19241 5.3886,-0.15176 16.60697,0.31436 16.60697,0.31436 22.77279,2.94849 46.764,8.54198 72.94272,9.07313 11.91431,-0.94309 21.54136,0.53115 38.42256,-3.45798 18.42701,-2.47152 39.48817,-6.01623 50.13851,-2.15718 l -27.48929,9.87531 -34.88222,16.62863 c 0,0 -15.50234,7.44712 -21.08171,9.66933 -5.61842,2.24388 -10.18532,-1.57181 -16.58529,3.76149 -15.975,13.3116 0.10514,31.36029 17.04706,17.20318 8.2081,-6.85093 33.25078,-21.04056 47.3396,-25.89689 11.50456,-3.94578 25.11207,-1.53929 37.19657,-3.17613 13.63678,-1.84282 30.39873,-11.29535 45.36127,-9.26826 8.92352,1.20324 15.41345,12.6395 24.85838,10.77502 10.76202,-2.11381 19.81997,-5.65852 26.37278,-10.13546 4.15283,-2.82925 12.41187,-10.91594 12.41187,-10.91594 6.95714,-4.30349 14.9094,-7.42542 23.15328,-4.02164 0,0 1.44496,2.46068 3.67585,4.97558 -1.04173,3.04604 -2.44768,7.67475 -2.16694,9.86445 0.43578,3.41461 3.58049,6.64495 8.49645,6.68832 3.87748,0.0433 6.5799,-2.35231 8.25035,-4.87804 0.84011,-1.26827 1.73767,-2.82925 2.68185,-4.6287 l 28.54402,-9.69101 -2.82599,-10.93762 c 0,0 9.20319,-17.18147 8.32082,-23.47955 -0.84769,-6.03791 -3.92734,-14.82921 -8.22977,-22.25463 0.65148,-1.88617 1.21083,-3.64227 1.78535,-5.1707 2.24065,-5.98372 4.99402,-23.64217 6.53872,-37.7776 12.55929,-4.4661 26.9885,-9.42 37.13586,-13.76684 V 366.40847 L -0.33819277,366.64695 V 166.84308 C 37.055658,167.58019 111.29703,189.24946 151.07568,187.50422 c 36.73477,-1.61517 65.10428,-10.11377 94.26944,-18.76413 z m 429.05581,-18.41726 c 1.51219,-12.21674 2.63847,-24.06491 2.63847,-24.06491 l 9.26716,1.05149 c 0.66558,1.37667 0.17669,9.49588 -0.89322,19.29528 -3.5577,1.26829 -7.22489,2.50405 -11.01241,3.71814 z m 0,0 c -1.30839,10.56906 -2.90621,21.40911 -4.31326,25.10557 -0.44987,1.17072 -0.94633,2.48238 -1.48182,3.89158 -0.35557,-0.46612 0.0943,0.50948 -1.13604,-0.58537 -7.93601,-7.03519 -26.19933,-9.20321 -32.39985,-4.2493 -11.08287,8.86718 -12.51484,13.18151 -13.24763,20.96468 -0.30569,3.24116 2.1691,8.85631 -0.73169,9.7452 -11.93057,3.69646 -16.11917,-3.56639 -21.27796,-7.85904 -9.83734,-8.19509 -22.82483,-16.42268 -33.95537,-17.63678 -19.86874,-2.14632 -61.34602,7.56638 -85.62015,2.01625 -18.67632,-4.27098 -35.53044,-14.16793 -46.52009,-14.34138 -15.81781,-0.26017 -39.03829,3.88073 -48.29568,18.69909 l -56.60135,7.58805 c 0,0 -19.02538,-6.90512 -24.89418,-11.01352 -9.65957,-6.75334 -13.47853,-16.30342 -19.58689,-24.68278 15.6422,-3.72898 32.45079,-6.79671 51.54229,-8.35769 135.02803,-11.0677 190.22448,21.4633 267.16285,14.94843 27.93156,-2.37398 51.31465,-7.82652 71.35682,-14.23299 z M 245.34512,168.74009 C 232.9246,155.39597 220.09105,140.15487 206.8315,122.97338 l -20.4541,-9.55009 -12.35116,-11.59885 c -1.75934,-2.081289 -20.4942,1.60433 -45.61277,-7.306196 C 111.61789,88.556217 100.13177,78.323205 84.090654,73.119978 69.279887,68.306993 28.482259,74.160624 35.951057,63.732491 40.038841,58.030623 58.143899,45.174319 58.143899,45.174319 c 1.637934,-5.062305 36.501714,3.685619 70.399641,17.181485 18.01508,7.165275 35.06,16.780403 48.23824,23.934839 15.76252,8.563645 24.82047,8.563645 25.97602,8.812965 6.55282,1.376687 14.19615,-3.436298 18.27417,-0.01084 4.79781,4.02166 1.37236,17.398282 7.17178,22.796632 11.90238,11.07852 35.66486,21.56087 48.38784,31.77219 3.11542,2.50405 5.57612,5.3333 7.74738,8.30349 -13.63896,3.26286 -26.39119,7.03518 -38.99385,10.77501 z"
              style="clip-rule:evenodd;fill-opacity:1;fill-rule:evenodd;stroke-width:1.084;stroke-linejoin:round;stroke-miterlimit:2"
              id="path2" />
          </svg>
          <span class="sn-title">
            SNORKELOLOGY
          </span>
        }

      </div>

      <svg id="hamburger" class="hamburger" viewBox="-55 -55 110 110" height="40px" width="40px" fill=var(--sn-colour) (click)="onHamburgerClick()">
        <rect x="-50" y="-50" width="100" height="100" fill=var(--sn-colour) rx="10" stroke="#FFFFFF" stroke-width="6">
          <animate #animate begin="click" id="startAnimation" />
        </rect>
        <line x1="-20" y1="-20" x2="20" y2="-20" stroke="#FFFFFF" stroke-width="6" opacity="1" stroke-linecap="round" pointer-events="none">
          <animate #animate attributeName="y2" from="20" to="-20" dur="0.5s" begin="startAnimation.begin" fill="freeze"></animate>
        </line>
        <line x1="-20" y1="0" x2="20" y2="0" stroke="#FFFFFF" stroke-width="6" stroke-linecap="round" pointer-events="none">
          <animate #animate attributeName="opacity" from="0" to="1" dur="0.5s" begin="startAnimation.begin" fill="freeze"></animate>
        </line>
        <line x1="-20" y1="20" x2="20" y2="20" stroke="#FFFFFF" stroke-width="6" stroke-linecap="round" pointer-events="none">
          <animate #animate attributeName="y2" from="-20" to="20" dur="0.5s" begin="startAnimation.begin" fill="freeze"></animate>
        </line>
      </svg>

      <ul class="menu" [ngClass]="showDropdownMenu ? 'show' : ''" >

        @for (menuItem of menuItemsFiltered; track menuItem) {
          <li #menuItem [ngClass]="{'active': activeAnchor == menuItem.link}" (click)="onMenuItemClick(menuItem.link)" role="link">
            {{menuItem.text}}
          </li>
        }

      </ul>

    </nav>
  }

  </header>


